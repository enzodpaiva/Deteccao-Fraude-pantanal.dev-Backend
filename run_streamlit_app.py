from streamlit.web import cli as stcli
import sys
import random
import subprocess

def main(sample):
    app_port = random.randint(1000, 9000)     
    print(sample)
    values = [str(value) for value in sample.values()]
    subprocess.Popen(["streamlit", "run", "--server.port", str(app_port), "sample_analysis.py", "--", "--transaction_values", *values])

    return {"port": app_port}

sample = {
  "Time": 33222,
  "V1": 1.10911214213743,
  "V2": -0.0207367212231888,
  "V3": 1.27356101780452,
  "V4": 1.28531557034223,
  "V5": -0.720741040253679,
  "V6": 0.290267938270499,
  "V7": -0.58068911599744,
  "V8": 0.182330118780888,
  "V9": 0.761822255202955,
  "V10": -0.270624888141605,
  "V11": -0.426855462786999,
  "V12": 1.00986798590443,
  "V13": 0.845638958289405,
  "V14": -0.496749073448533,
  "V15": 0.33907836544368,
  "V16": -0.253493948354023,
  "V17": -0.0171754397379936,
  "V18": -0.61343266341544,
  "V19": -0.575653776042198,
  "V20": -0.111191062861322,
  "V21": -0.0248455088134858,
  "V22": 0.208870282590794,
  "V23": 0.0147919246995559,
  "V24": 0.107377057802535,
  "V25": 0.370061381784619,
  "V26": -0.382402372749462,
  "V27": 0.0942768174578388,
  "V28": 0.0368240996883837,
  "Amount": 9.99,
  "Class": 0
}

main(sample)